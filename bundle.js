!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5)}([function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var n=(s=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[a].concat(i).concat([n]).join("\n")}var s,o,c;return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(n[s]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);r&&n[c[0]]||(a&&(c[2]?c[2]="".concat(a," and ").concat(c[2]):c[2]=a),t.push(c))}},t}},function(e,t){e.exports='<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Mi App</title> <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/cyborg/bootstrap.min.css" integrity="sha384-nEnU7Ae+3lD52AK+RGNzgieBWMnEfgTbRHIwEvp1XXPdqdO6uLTd/NwXbzboqjc2" crossorigin="anonymous"/> </head> <body> <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarTogglerDemo01"> <a class="navbar-brand" data-href="/" href="/">Home</a> <ul class="navbar-nav mr-auto mt-2 mt-lg-0"> <li class="nav-item"> <a class="nav-link" data-href="/toprated">Top Rated</a> </li> <li class="nav-item"> <a class="nav-link" data-href="/popular">Popular</a> </li> <li class="nav-item"> <a class="nav-link" data-href="/upcoming">Upcoming</a> </li> </ul> <form class="form-inline my-2 my-lg-0" target=""> <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search"/> <button class="btn btn-outline-success my-2 my-sm-0" type="submit"> Search </button> </form> </div> </nav> <main> <div id="App"></div> </main> <style></style> </body> </html> '},function(e,t,a){var r=a(3),n=a(4);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};r(n,i);e.exports=n.locals||{}},function(e,t,a){"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),s=[];function o(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].identifier===e){t=a;break}return t}function c(e,t){for(var a={},r=[],n=0;n<e.length;n++){var i=e[n],c=t.base?i[0]+t.base:i[0],l=a[c]||0,d="".concat(c," ").concat(l);a[c]=l+1;var u=o(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:d,updater:g(p,t),references:1}),r.push(d)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var n=a.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,a,r){var n=a?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var i=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function h(e,t,a){var r=a.css,n=a.media,i=a.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,v=0;function g(e,t){var a,r,n;if(t.singleton){var i=v++;a=m||(m=l(t)),r=p.bind(null,a,i,!1),n=p.bind(null,a,i,!0)}else a=l(t),r=h.bind(null,a,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var a=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<a.length;r++){var n=o(a[r]);s[n].references--}for(var i=c(e,t),l=0;l<a.length;l++){var d=o(a[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}a=i}}}},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r)()(!1);n.push([e.i,"body {\r\n  background-color: #222;\r\n}\r\n\r\n.chip.chip-md {\r\n    height: 42px;\r\n    line-height: 42px;\r\n    border-radius: 21px;\r\n    background-color: aquamarine;\r\n  }\r\n  .chip.chip-md img {\r\n    height: 42px;\r\n    width: 42px;\r\n  }\r\n\r\n  .chip.chip-lg {\r\n    height: 52px;\r\n    line-height: 52px;\r\n    border-radius: 26px;\r\n  }\r\n  .chip.chip-lg img {\r\n    height: 52px;\r\n    width: 52px;\r\n  }",""]),t.default=n},function(e,t,a){"use strict";a.r(t);a(1),a(2);const r="373cac5357693350f2c0281f8c7e6ca9",n=async e=>{let t=await fetch(e);return t=await t.json(),t},i="https://api.themoviedb.org/3";class s{constructor(e){this.scraped=!1,this.id=e.id,this.title=e.title,this.overview=e.overview,this.vote=e.vote_average,this.date=e.release_date,this.original_language=e.original_language,this.original_title=e.original_title,this.popularity=e.popularity,this.poster=l.getURL(e.poster_path),this.backdrop=l.getURL(e.backdrop_path)}toString(){return this.title}static async get(e){const t=`/movie/${e}?api_key=${r}&language=en&append_to_response=credits%2Cimages`;let a=await n(i+t),d=new s(a);return d.runtime=a.runtime,d.genres=a.genres.map(({name:e})=>e),d.cast=a.credits.cast.map(e=>new o(e)),d.crew=a.credits.crew.map(e=>new c(e)),d.images={backdrops:a.images.backdrops.map(e=>l.getURL(e)),posters:a.images.posters.map(e=>l.getURL(e))},d.scraped=!0,d}async getDetails(){if(!this.scraped){const e=`/movie/${this.id}?api_key=${r}&language=en&append_to_response=credits%2Cimages`;let t=await n(i+e);this.runtime=t.runtime,this.genres=t.genres.map(({name:e})=>e),this.cast=t.credits.cast.map(e=>new o(e)),this.crew=t.credits.crew.map(e=>new c(e)),this.images={backdrops:t.images.backdrops.map(e=>l.getURL(e)),posters:t.images.posters.map(e=>l.getURL(e))},this.scraped=!0}return this}async getCast(){const e=`/movie/${this.id}/credits?api_key=${r}`;let t=await n(i+e);return t=t.cast,t}async getImages(){const e=`/movie/${this.id}/credits?api_key=${r}`;let t=await n(i+e);return t=t.cast,t}}class o{constructor(e){this.name=e.name,this.character=e.character,this.profile=l.getURL(e.profile_path),this.personID=e.id}}class c{constructor(e){this.name=e.name,this.job=e.job,this.profile=l.getURL(e.profile_path),this.personID=e.id,this.department=e.department}}class l{static getURL(e){let t;return t=e?"https://image.tmdb.org/t/p/original"+e:"http://lorempixel.com/g/626/939/abstract/",t}}var d={Movies:class{static async search(e,t=1){const a=`/search/movie?api_key=${r}&language=en&query=${e}&page=${t}&include_adult=false`;let s=await n(i+a);return s=s.results,s}static async getUpcoming(e=1){const t=`/movie/upcoming?api_key=${r}&language=en&page=${e}`;let a=await n(i+t);return a=a.results.map(e=>new s(e)),a}static async getTopRated(e=1){const t=`/movie/top_rated?api_key=${r}&language=en&page=${e}`;let a=await n(i+t);return a=a.results.map(e=>new s(e)),a}static async getPopular(e=1){const t=`/movie/popular?api_key=${r}&language=en&page=${e}`;let a=await n(i+t);return a=a.results.map(e=>new s(e)),a}},Movie:s,Person:class{constructor(e){this.id=e,this.scraped=!1}async getDetails(){if(!this.scraped){const e=`/person/${this.id}?api_key=${r}&language=en&append_to_response=images%2Cmovie_credits`;let t=await n(i+e);this.name=t.name,this.birthday=t.birthday,this.deathday=t.deathday,this.profile=l.getURL(t.profile_path),this.place_of_birth=t.place_of_birth,this.popularity=t.popularity,this.biography=t.biography,1===t.gender&&(this.gender="F"),2===t.gender&&(this.gender="M"),this.images={profiles:t.images.profiles.map(e=>l.getURL(e.file_path))},this.movies={cast:t.movie_credits.cast.map(e=>new s(e)),crew:t.movie_credits.crew.map(e=>new s(e))},this.scraped=!0}return this}async getMovies(){const e=`/person/${this.id}/movie_credits?api_key=${r}&language=en`;return await n(i+e)}},Character:o,Picture:l};const u=/(<[a-zA-Z\_][a-zA-Z0-9\_]*>)/g,p=/([a-zA-Z0-9\-\_]+)/;class h{constructor(e){if(!this.__validate(e))throw new Error("invalid Route");e&&e.endsWith("/")&&(e=e.slice(0,-1)),this.route=e,this.variableNames=[];let t=this.route.match(u);t&&t.forEach(e=>{let t=e.slice(1,-1);this.variableNames.push(t)}),this.createRegex()}createRegex(){this.regex=this.route,this.variableNames.forEach(e=>this.regex=this.regex.replace(`<${e}>`,p.source)),this.regex=`^${this.regex}/?$`,this.regex=RegExp(this.regex)}match(e){return e?(e.endsWith("/")&&(e=e.slice(0,-1)),this.regex.test(e)):null}getVars(e){let t={};if(this.match(e)){let a=this.regex.exec(e);for(let e=0;e<this.variableNames.length;e++)t[this.variableNames[e]]=a[e+1]}return t}urlFor(e){let t=this.route;return this.variableNames.forEach(a=>{t=t.replace(`<${a}>`,e[a])}),t}__validate(e){return/^(\/[a-zA-Z0-9\-\_]+|\/<[a-zA-Z\_][a-zA-Z0-9\_]*>)*\/?$/.test(e)}}var m=new class{constructor(){this.routes=[]}router(e){const t=e.detail.location,a={newLocation:t},r=t,n=t;return window.history.pushState(a,r,n),this.resolveRoute(t)||this.notFound()}addRoute(e,t){this.checkForDuplicates(t),this.routes.push({route:new h(e),controller:t})}checkForDuplicates(e){this.routes.forEach(t=>{if(t.controller===e)throw new Error("Duplicate controller")})}resolveRoute(e){let t=0;for(;t<this.routes.length;){let a=this.routes[t];if(a.route.match(e)){let t=a.route.getVars(e);return a.controller(t)}t++}return null}urlFor(e,t={}){let a=!1,r="",n=0;for(;!a&&n<this.routes.length;){let i=this.routes[n];i.controller===e&&(a=!0,r=i.route.urlFor(t)),n++}if(!a)throw new Error("this controller was not found in routes");return r+"/"}notFound(){return"The page you are looking for was not found"}};var v=e=>`\n  <div class="card m-2 card-movie" style="min-width: 15rem;">\n    <img class="card-img-top" data-href="${m.urlFor(w,e)}" src="${e.poster}" alt="Card image cap">\n    <div class="card-body">\n      <h5 class="card-title">${e.title}</h5>\n      <p class="card-text">${e.overview.slice(0,100)}...</p>\n    </div>\n  </div>\n  `;var g=e=>{let t="";e.movies.cast.forEach(e=>t+=v(e)),e.movies.crew.forEach(e=>t+=v(e));return`\n  <div class="m-2 p-2">\n  <div class="card mb-3">\n  <div class="row no-gutters">\n    <div class="col-md-4">\n      <img src="${e.profile}" class="card-img">\n    </div>\n    <div class="col-md-8">\n      <div class="card-body">\n        <h5 class="card-title">${e.name}</h5>\n        <p class="card-text">${e.biography}</p>\n        <p class="card-text">Birth: ${e.birthday} ${e.place_of_birth}</p>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n    <h4>${e.name}'s movies</h4>\n    <div class="row cards-deck m-2">\n    <div class="card-group">    \n   ${t}\n    </div>\n    </div>\n  `},f=async e=>{let{id:t}=e,a=await new d.Person(t).getDetails();return g(a)};var b=e=>`\n  \x3c!-- Card --\x3e\n  <div class="card promoting-card m-2 shadow-sm"  style="min-width: 15rem;">\n  \x3c!-- Card content --\x3e\n  <div class="card-body d-flex flex-row text-center">\n    \x3c!-- Content --\x3e\n    <div>\n      \x3c!-- Title --\x3e\n      <h4 class="card-title font-weight-bold mb-2" data-href=${m.urlFor(f,{id:e.personID})}>${e.name}</h4>\n      \x3c!-- Subtitle --\x3e\n      <p class="card-text">${e.character?"como "+e.character:""}</p>\n    </div>\n  </div>\n\n  \x3c!-- Card image --\x3e\n  <div class="view overlay">\n    <img\n      class="card-img-top rounded-0"\n      src="${e.profile}"\n      alt="is ${e.character}"\n    />\n  </div>\n</div>\n\x3c!-- Card --\x3e\n  `;var y=e=>{let t="";e.cast.forEach(e=>{t+=b(e)});let a="",r=e.crew.filter(e=>"Director"===e.job)[0].name;e.genres.forEach(e=>{a+=`  ${e}  `});return`\n  <div class="m-2 p-2">\n  <div class="card mb-3">\n  <div class="row no-gutters">\n    <div class="col-md-4">\n      <img src="${e.poster}" class="card-img">\n    </div>\n    <div class="col-md-8">\n      <div class="card-body">\n        <h5 class="card-title">${e.title}</h5>\n        <p class="card-text">${e.overview}</p>\n        <p class="card-text">Generos: ${a} </p>\n        <p class="card-text">Director: ${r} </p>\n        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n<h4>Cast</h4>\n\n    <div class="row cards-deck m-2">\n    <div class="card-group">    \n    ${t}\n    </div>\n    </div>\n  `},w=async e=>{let{id:t}=e,a=await s.get(t);return y(a)};var x={Movie:w,TopRated:async e=>{let t=await d.Movies.getTopRated(),a="";return t.forEach(e=>{a+=v(e)}),`<div class="row cards-deck m-2">\n    <div class="card-group">    \n    ${a}\n    </div>\n    </div>\n    `},Person:f,Home:async e=>{let t=await d.Movies.getPopular(),a="";return t.forEach(e=>{a+=v(e)}),`<div class="row cards-deck m-2">\n    <div class="card-group">    \n    ${a}\n    </div>\n    </div>\n    `},Popular:async e=>{let t=await d.Movies.getPopular(),a="";return t.forEach(e=>{a+=v(e)}),`<div class="row cards-deck m-2">\n    <div class="card-group">    \n    ${a}\n    </div>\n    </div>\n    `},Upcoming:async e=>{let t=await d.Movies.getUpcoming(),a="";return t.forEach(e=>{a+=v(e)}),`<div class="row cards-deck m-2">\n    <div class="card-group">    \n    ${a}\n    </div>\n    </div>\n    `}};let _=new CustomEvent("locationRequested",{bubbles:!0,detail:{location:"/"}});var $=()=>{document.querySelectorAll("[data-href]").forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",t=>{_.detail.location=t.target.dataset.href,e.dispatchEvent(_)})})};var R=new class{constructor(e=null){this.target=e||document.body}setTarget(e){this.target=e}async render(e){this.target.innerHTML=await e,$(),window.scrollTo(0,0)}}(document.body);m.addRoute("",x.Home),m.addRoute("/movie/<id>",x.Movie),m.addRoute("/person/<id>",x.Person),m.addRoute("/toprated",x.TopRated),m.addRoute("/popular",x.Popular),m.addRoute("/upcoming",x.Upcoming);var k=document.querySelector("#App");R.setTarget(k),window.addEventListener("load",e=>{!async function(){document.addEventListener("locationRequested",e=>{console.log("pop");let t=m.router(e);R.render(t)}),window.onpopstate=e=>{e.preventDefault(),_.detail.location=window.location.pathname,document.dispatchEvent(_)},_.detail.location=window.location.pathname,document.dispatchEvent(_),$()}()})}]);